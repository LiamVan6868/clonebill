function ThanhDieuHandle(t){var e,n,a,i,s={author:$("body").attr("class").split(" ").slice(0,3).join("-").replace(/\s+/g,"-")+"-",jq:$("body"),ajax_users:"/ajax/global/users",root_path:"/public/src/vtd",ajax_default:"/ajax/global/default",gt:$("#gt").attr("value"),rsa:$("#public-key").attr("value"),rand:function(t){return Array.from({length:t},(()=>"0123456789"[Math.floor(10*Math.random())])).join("")},randstr:function(t){return Array.from({length:t},(()=>"abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789"[Math.floor(62*Math.random())])).join("")}};function o(){const t=function(){const t=navigator.userAgent;return t.indexOf("Chrome")>-1&&-1===t.indexOf("Edge")?"Chrome":t.indexOf("Firefox")>-1?"Firefox":t.indexOf("Safari")>-1&&-1===t.indexOf("Chrome")?"Safari":t.indexOf("CocCoc")>-1?"Cốc Cốc":t.indexOf("Edge")>-1?"Edge":t.indexOf("MSIE")>-1||t.indexOf("Trident/")>-1?"Internet Explorer":"Unknown"}();["Chrome","Safari","Cốc Cốc","Edge"].includes(t)||($(".BrowserChecker").append('<div class="BrowserChecker_box"><div class="browser-support"><img class="chrome" src="//i.imgur.com/ps2tOW4.png" alt="ThanhDieuFakeBill"> <img class="safari" src="//i.imgur.com/XmyaQN0.png" alt="ThanhDieuFakeBill"> <img class="coccoc" src="//i.imgur.com/itf1Rpj.png" alt="ThanhDieuFakeBill"></div><span class="BrowserChecker_txt">Trình duyệt của bạn không được chúng tôi hỗ trợ, vui lòng sử dụng một trình duyệt khác!</span></div>'),$(".BrowserChecker").show())}Object.defineProperty(s,"key",{get:function(){return Array(32).fill(0).map((()=>Math.random().toString(36).charAt(2))).join("")}});class r{constructor(){this.init()}init(){$("label[data-limit-text]").each(((t,e)=>{let n=$(e),a=parseInt(n.data("limit-text")),i=n.closest(".nui-input-wrapper, .nui-textarea-wrapper").find("input, textarea");0===i.length&&(i=n.nextAll(".nui-input-wrapper, .nui-textarea-wrapper").find("input, textarea")),0===i.length&&(i=n.prevAll(".nui-input-wrapper, .nui-textarea-wrapper").find("input, textarea")),0!==i.length&&(0===n.find(".text-red-500").length&&n.append(`&ensp;-&ensp;Còn lại&ensp;<b class="text-red-500">${a}</b>&ensp;ký tự`),this.WsCharCount(n,i,a),i.on("input",(()=>this.WsCharCount(n,i,a))))}))}WsCharCount(t,e,n){let a=n-e.val().length;a<0&&(e.val(e.val().substring(0,n)),a=0,FuiToast.info("Bạn đã nhập đủ số ký tự tối đa!")),t.find(".text-red-500").text(a)}}function l(t,e){var n=`-----BEGIN PUBLIC KEY-----\n        ${s.rsa}\n        -----END PUBLIC KEY-----`,a=new JSEncrypt;a.setPublicKey(n);var i={};Array.isArray(t)?t.forEach((function(t){i[t.name]=t.value})):"string"==typeof t&&t.split("&").forEach((function(t){var[e,n]=t.split("=");i[decodeURIComponent(e)]=decodeURIComponent(n)}));var o=JSON.stringify(i),r=a.encrypt(o);if(!r)return FuiToast.error("RSA Encryption failed!"),{};var l={};return l[e]=r,l}s.jq.on("click",".clear-form",(function(t){t.preventDefault(),Wsloader(!0),swal({title:"Thông Báo",text:"Xác nhận làm trống tất cả các trường?",icon:"warning",buttons:["Huỷ bỏ","Tiếp tục"]}).then((t=>{if(t){Wsloader(!1);var e=$(".hk-refresh-form, form").find('input[type="text"], input[type="number"], input[type="email"], textarea').filter((function(){return""!==$(this).val()})).length>0;$(".hk-refresh-form, form").find('input[type="text"], input[type="number"], input[type="email"], textarea').val(""),$(".hk-refresh-form, form").find("select").each((function(){"kieuchuyen-2"!==$(this).attr("id")&&"kieuchuyen"!==$(this).attr("id")&&$(this).prop("selectedIndex",0)})),$(".hk-refresh-form, form").find('input[type="checkbox"]').prop("checked",!1);var n=$(".hk-refresh-form, form").find('input[type="text"], input[type="number"], input[type="email"], textarea').filter((function(){return""!==$(this).val()})).length>0;e&&!n?FuiToast.success("Đã làm trống tất cả các trường."):FuiToast.error("Không có nội dung để làm trống!")}else Wsloader(!1)}))}));class c{static Fakebill(t){"on"===t.toLowerCase()?(Wsloader(!0),$(".nui-button-lavender").html('<i class="ri-loader-4-line wt-spinner"></i>').prop("disabled",!0)):"off"===t.toLowerCase()&&($(".nui-button-lavender").html('<i class="ri-check-line me-1"></i>Tạo Bill Ngay').prop("disabled",!1),Wsloader(!1))}static XemTruoc(t){"on"===t.toLowerCase()?(Wsloader(!0),$(".xem-truoc").html('<i class="ri-loader-4-line wt-spinner"></i>').prop("disabled",!0)):"off"===t.toLowerCase()&&($(".xem-truoc").html('<i class="ri-eye-line me-2"></i>Xem Trước').prop("disabled",!1),Wsloader(!1))}static OauthSignIn(t){"on"===t.toLowerCase()?(Wsloader(!0),$('button[type="submit"]').html('<i class="ri-loader-4-line wt-spinner"></i>').prop("disabled",!0)):"off"===t.toLowerCase()&&($('button[type="submit"]').html('<i class="ri-arrow-right-line me-2 mt-03"></i>Đăng Nhập').prop("disabled",!1),Wsloader(!1))}static OauthSignUp(t){"on"===t.toLowerCase()?(Wsloader(!0),$('button[type="submit"]').html('<i class="ri-loader-4-line wt-spinner"></i>').prop("disabled",!0)):"off"===t.toLowerCase()&&($('button[type="submit"]').html('<i class="ri-user-add-line me-1 mt-03"></i> Đăng Ký').prop("disabled",!1),Wsloader(!1))}static OauthLogOut(t){"on"===t.toLowerCase()?(Wsloader(!0),$('button[type="submit"]').html('<i class="ri-loader-4-line wt-spinner"></i>').prop("disabled",!0)):"off"===t.toLowerCase()&&($('button[type="submit"]').html("Đăng xuất").prop("disabled",!1),Wsloader(!1))}static OauthChangePw(t){"on"===t.toLowerCase()?(Wsloader(!0),$('button[type="submit"]').html('<i class="ri-loader-4-line wt-spinner"></i>').prop("disabled",!0)):"off"===t.toLowerCase()&&($('button[type="submit"]').html('<i class="ri-check-line me-2"></i>Đổi Mật Khẩu').prop("disabled",!1),Wsloader(!1))}static Attack(t){"on"===t.toLowerCase()?(Wsloader(!0),$('button[type="submit"]').html('<i class="ri-loader-4-line wt-spinner"></i>').prop("disabled",!0)):"off"===t.toLowerCase()&&($('button[type="submit"]').html('<i class="icon-rocket ri-rocket-line me-2"></i>Send Attack').prop("disabled",!1),Wsloader(!1))}static Obfuscate(t){"on"===t.toLowerCase()?(Wsloader(!0),$('button[type="submit"]').html('<i class="ri-loader-4-line me-2 wt-spinner').prop("disabled",!0)):"off"===t.toLowerCase()&&($('button[type="submit"]').html('<i class="ri-send-plane-line"></i>&ensp;Obfuscate').prop("disabled",!1),Wsloader(!1))}static Confirm(t){"on"===t.toLowerCase()?(Wsloader(!0),$('button[type="submit"]').html('<i class="ri-loader-4-line wt-spinner"></i>').prop("disabled",!0)):"off"===t.toLowerCase()&&($('button[type="submit"]').html('<i class="ri-check-line me-2"></i>Xác Nhận').prop("disabled",!1),Wsloader(!1))}static ChargingCard(t){"on"===t.toLowerCase()?(Wsloader(!0),$('button[type="submit"]').html('<i class="ri-loader-4-line wt-spinner"></i>').prop("disabled",!0)):"off"===t.toLowerCase()&&($('button[type="submit"]').html('<i class="ri-check-line me-2"></i>Gửi Thẻ Cào').prop("disabled",!1),Wsloader(!1))}static FakeGiayTo(t){"on"===t.toLowerCase()?(Wsloader(!0),$('button[type="submit"]').html('<i class="ri-loader-4-line wt-spinner"></i>').prop("disabled",!0)):"off"===t.toLowerCase()&&($('button[type="submit"]').html('<i class="ri-check-line me-2"></i>Tạo Ngay').prop("disabled",!1),Wsloader(!1))}static Deposit(t){"on"===t.toLowerCase()?(Wsloader(!0),$('button[type="submit"]').html('<i class="ri-loader-4-line wt-spinner"></i>').prop("disabled",!0)):"off"===t.toLowerCase()&&($('button[type="submit"]').html('Tiếp Tục&nbsp;<i class="ri-arrow-right-s-line"></i>').prop("disabled",!1),Wsloader(!1))}static ThueNgay(t){"on"===t.toLowerCase()?(Wsloader(!0),$('button[type="submit"]').html('<i class="ri-loader-4-line wt-spinner"></i>').prop("disabled",!0)):"off"===t.toLowerCase()&&($('button[type="submit"]').html('<i class="ri-check-line me-2"></i>Thuê Ngay').prop("disabled",!1),Wsloader(!1))}static MuaGoi(t){"on"===t.toLowerCase()?(Wsloader(!0),$('button[type="submit"]').html('<i class="ri-loader-4-line wt-spinner"></i>').prop("disabled",!0)):"off"===t.toLowerCase()&&($('button[type="submit"]').html("Chọn Gói").prop("disabled",!1),Wsloader(!1))}static Purchase(t){"on"===t.toLowerCase()?(Wsloader(!0),$('button[type="button"]').html('<i class="ri-loader-4-line wt-spinner me-1"></i>Đang xử lý').prop("disabled",!0)):"off"===t.toLowerCase()&&($('button[type="button"]').html('<i class="ri-shopping-cart-line me-1"></i>').prop("disabled",!1),Wsloader(!1))}static Download(t){"on"===t.toLowerCase()?(Wsloader(!0),$('button[type="download"]').html('<i class="ri-loader-4-line wt-spinner me-1"></i>Đang xử lý').prop("disabled",!0)):"off"===t.toLowerCase()&&($('button[type="download"]').html('<i class="ri-download-cloud-2-line me-1"></i>Tải Xuống').prop("disabled",!1),Wsloader(!1))}}window.Wsloader=function(t){t?$(".td-loader").show():$(".td-loader").hide()},$(".time-ago").length>0&&requestAnimationFrame((function t(){$(".time-ago").each((function(){$(this).text(function(t){var e=Math.floor((new Date-new Date(t))/1e3),n=Math.floor(e/60),a=Math.floor(n/60),i=Math.floor(a/24),s=Math.floor(i/7),o=Math.floor(i/30),r=Math.floor(i/365);return r>0?r+" năm trước":o>0?o+" tháng trước":s>0?s+" tuần trước":i>0?i+" ngày trước":a>0?a+" giờ trước":n>0?n+" phút trước":"vừa xong"}($(this).data("timeago")))})),requestAnimationFrame(t)})),$("body").append('<div id="fui-toast"></div><div role="button" class="bg-muted-800/60 fixed start-0 top-0 z-[99] size-full cursor-pointer transition-opacity duration-300 opacity-0 pointer-events-none"></div>'),$("#ThanhDieu_DataTables_Table").length>0&&$(".rl-history-deposit,.rl-history-plan,.rl-history-fakebill,.rl-history-purchase").append('<tr class="no-results hidden"><td colspan="5" class="text-center text-muted-400 fs-13px">Không tìm thấy kết quả.</td></tr>');class u{static WsCreate(t,e){Wsloader(!0);const n=t.toUpperCase()+"-"+s.author+s.rand(5)+".png",a=this.base64ToBlob(e,"image/jpeg"),i=URL.createObjectURL(a);let o=$("#ws-download-bill");0===o.length&&(o=$("<a></a>").attr("id","ws-download-bill").css("display","none"),$("body").append(o)),o.attr("href",i).attr("download",n);try{let t=new MouseEvent("click");o[0].dispatchEvent(t)}catch(t){this.DownloadError()}finally{URL.revokeObjectURL(i),Wsloader(!1)}}static base64ToBlob(t,e="application/octet-stream"){const n=t.replace(/^data:image\/[a-zA-Z]+;base64,/,""),a=n.length%4;a>0&&(n+="=".repeat(4-a));const i=atob(n),s=new Array(i.length);for(let t=0;t<i.length;t++)s[t]=i.charCodeAt(t);const o=new Uint8Array(s);return new Blob([o],{type:e})}static DownloadError(){swal({title:"Thất Bại!",text:"Xin lỗi trình duyệt của bạn ngăn không cho chúng tôi tải ảnh xuống, hãy thử sử dụng trình duyệt Chrome hoặc Safari.",icon:"error",button:"Đồng ý"}),Wsloader(!1)}static DownloadBill(t,e){s.jq.off("click",".dl-bill"),s.jq.on("click",".dl-bill",(n=>{n.preventDefault(),this.WsCreate(t,e)}))}static ReviewBill(t,e){$(".card-demo-bill").removeClass("hidden md:block");const n=this.base64ToBlob(t,"image/jpeg"),a=URL.createObjectURL(n);$(".kq-bill").html(`<div class="relative flex flex-col overflow-hidden rounded-2xl"><img src="${a}" alt="FAKE BILL ${e}" class="w-full h-auto object-cover"><div class="bg-muted-900 absolute inset-0 z-10 opacity-0 transition-opacity duration-300 group-hover:opacity-50"></div><div class="absolute inset-0 z-20 flex size-full flex-col justify-between p-4"><div class="flex justify-end"><div class="absolute inset-0 z-20 flex size-full flex-col justify-end p-8"><div class="flex items-center justify-center"><h3 class="-translate-y-2 font-sans tracking-wider text-white opacity-0 transition-all delay-100 duration-300 group-hover:translate-y-0 group-hover:opacity-100 text-center"><button class="nui-button-action nui-button-danger nui-button-rounded-md dl-bill"><i class="ri-download-cloud-2-line me-1"></i>Tải bill xuống</button></h3></div><div class="absolute top-0 right-0 m-4"><h3 class="-translate-y-2 font-sans tracking-wider text-white opacity-0 transition-all delay-100 duration-300 group-hover:translate-y-0 group-hover:opacity-100 text-center"><button class="text-white hover:underline" data-target-href-open="${a}"><i class="ri-eye-line me-2"></i>Xem trước ảnh</button></h3></div></div></div>`),this.DownloadBill(e,t),setTimeout((()=>{$(window).scrollTop($(document).height()-$(window).height()-0)}),100)}static Loader(){s.jq.append($('<div class="td-loader"><div class="spinner-border2"></div></div>').hide())}static FuncHide(){$("#template-customizer").addClass("hide")}static FuncClass(){s.jq.on("click","[target-modal]",(function(){Wsloader(!0),setTimeout((()=>{Wsloader(!1),$(t).css({display:"block",opacity:0}).addClass("bounce-in").animate({opacity:1},300),$(".modal").append('<div class="bg-muted-800/70 dark:bg-muted-900/80 fixed inset-0 modal-bg"></div>')}),10);var t=$(this).attr("target-modal");if("close"===t)return $(this).closest(".modal").fadeOut(200),$(".modal-bg").remove(),void("setting-bill"===$(this).data("modal-type")&&FuiToast.success("Đã lưu tất cả thiết lập."))})),s.jq.on("click",".close-modal",(function(){$(this).closest(".modal").fadeOut(100),$(".modal-bg").fadeOut(200)})),$(document).on("click",".modal, .modal-bg",(function(t){$(t.target).is(this)&&($(this).closest(".modal").fadeOut(100),$(".modal-bg").fadeOut(200))})),s.jq.on("click",".nui-input-number-buttons button",(function(){let t,e="pin"===$(this).closest(".nui-input-number-buttons").data("type-battery"),n=$(this).closest(".nui-input-number-outer").find(".nui-input-number"),a=parseInt(n.val().replace(/,/g,"")||0),i=$(this).attr("btn");if("plus"===i)t=e?Math.min(a+1,100):a+1e6;else if("minus"===i)t=e?Math.max(a-1,1):Math.max(a-1e6,0);else if("destroy"===i)return""===n.val().trim()?FuiToast.error("Không có giá trị để làm sạch."):(n.val(""),$(".error-message").hide(),FuiToast.info("Đã làm sạch trường này."));n.val(t.toLocaleString("en-US",{style:"decimal",minimumFractionDigits:0}))})),$.fn.slideRight=function(){return this.each((function(){$(this).show().animate({right:"0px"},{queue:!1,duration:500})}))},$.fn.slideLeft=function(){return this.each((function(){$(this).animate({right:"-300px"},{queue:!1,duration:500,complete:function(){$(this).hide()}})}))},s.jq.on("click",".btn-close",(function(){$("#ws-call-demo").removeClass("show")})),s.jq.mouseup((function(t){var e=$("#ws-call-demo");e.is(t.target)||0!==e.has(t.target).length||e.removeClass("show")}))}static XoaTVCoDau(){$(".td-format-text").on("input",(function(){var t,e;$(this).val((t=$(this).val(),e={"á":"a","à":"a","ả":"a","ã":"a","ạ":"a","ă":"a","ắ":"a","ằ":"a","ẳ":"a","ẵ":"a","ặ":"a","â":"a","ấ":"a","ầ":"a","ẩ":"a","ẫ":"a","ậ":"a","é":"e","è":"e","ẻ":"e","ẽ":"e","ẹ":"e","ê":"e","ế":"e","ề":"e","ể":"e","ễ":"e","ệ":"e","í":"i","ì":"i","ỉ":"i","ĩ":"i","ị":"i","ó":"o","ò":"o","ỏ":"o","õ":"o","ọ":"o","ô":"o","ố":"o","ồ":"o","ổ":"o","ỗ":"o","ộ":"o","ơ":"o","ớ":"o","ờ":"o","ở":"o","ỡ":"o","ợ":"o","ú":"u","ù":"u","ủ":"u","ũ":"u","ụ":"u","ư":"u","ứ":"u","ừ":"u","ử":"u","ữ":"u","ự":"u","ý":"y","ỳ":"y","ỷ":"y","ỹ":"y","ỵ":"y","đ":"d","Á":"A","À":"A","Ả":"A","Ã":"A","Ạ":"A","Ă":"A","Ắ":"A","Ằ":"A","Ẳ":"A","Ẵ":"A","Ặ":"A","Â":"A","Ấ":"A","Ầ":"A","Ẩ":"A","Ẫ":"A","Ậ":"A","É":"E","È":"E","Ẻ":"E","Ẽ":"E","Ẹ":"E","Ê":"E","Ế":"E","Ề":"E","Ể":"E","Ễ":"E","Ệ":"E","Í":"I","Ì":"I","Ỉ":"I","Ĩ":"I","Ị":"I","Ó":"O","Ò":"O","Ỏ":"O","Õ":"O","Ọ":"O","Ô":"O","Ố":"O","Ồ":"O","Ổ":"O","Ỗ":"O","Ộ":"O","Ơ":"O","Ớ":"O","Ờ":"O","Ở":"O","Ỡ":"O","Ợ":"O","Ú":"U","Ù":"U","Ủ":"U","Ũ":"U","Ụ":"U","Ơ":"U","Ứ":"U","Ừ":"U","Ử":"U","Ữ":"U","Ự":"U","Ý":"Y","Ỳ":"Y","Ỷ":"Y","Ỹ":"Y","Ỵ":"Y","Đ":"D"},t.replace(/[^\u0000-\u007E]/g,(function(t){return e[t]||t}))).toUpperCase())}))}static FuncMain(){$("#modal-bill-close, #modal-overlay").on("click",(function(){$("#modal-bill").addClass("hidden")})),$("[data-fancybox]").length&&Fancybox.bind("[data-fancybox]",{}),$(document).mouseup((function(t){var e=$("#layout-menu");!e.is(t.target)&&0===e.has(t.target).length&&$("html").hasClass("layout-menu-expanded")&&(e.css("transition","transform 0.3s ease"),e.css("transform","translate3d(-100%, 0, 0)"),$("html").removeClass("layout-menu-expanded"))})),$(document).on("click",".dl-bill",(function(){!function(t,e){if("download"in document.createElement("a"))if("localhost"===window.location.hostname&&e.startsWith("https://")&&(e=e.replace("https://","http://")),t.includes(".")||(t+=".png"),e.startsWith("http://")||e.startsWith("https://"))fetch(e).then((t=>t.blob())).then((e=>{const n=document.createElement("a");n.href=URL.createObjectURL(e),n.download=t,document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(n.href)})).catch((()=>{FuiToast.error("Không thể tải ảnh xuống.")}));else if(e.startsWith("data:image")){const n=document.createElement("a");n.href=e,n.download=t,document.body.appendChild(n),n.click(),document.body.removeChild(n)}else FuiToast.error("Không thể tải ảnh xuống.");else FuiToast.error("Trình duyệt của bạn đã ngăn tải xuống!")}($(this).attr("name-bill")+"-"+s.rand(5),$(this).attr("link-bill"))})),s.jq.on("input","input[name='pin']",(function(){let t=$(this).val(),e=parseInt(t);""!==t&&(isNaN(e)||e<1||e>100)&&(FuiToast.info("Bạn vui lòng chỉ nhập pin từ 1 đến 100."),$(this).val(""))})),s.jq.on("change","#chitiet",(function(){"0"===$(this).val()?($("#magiaodich").stop(!0,!0).slideUp(300),$("#tennguoichuyen").stop(!0,!0).slideUp(300)):($("#magiaodich").stop(!0,!0).slideDown(300),$("#tennguoichuyen").stop(!0,!0).slideDown(300))})),s.jq.on("change","#kieuchuyen",(function(){const t=$(this).val();"macdinh"===t?$("#thoigianchuyen").stop(!0,!0).slideUp(300):$("#thoigianchuyen").stop(!0,!0).slideDown(300),"ngoaibank"===t?$("#nganhangnhan").stop(!0,!0).slideDown(300):$("#nganhangnhan").stop(!0,!0).slideUp(300)})),s.jq.on("change","#kieuchuyen-2",(function(){const t=$(this).val();"vcb"===$(this).data("type")?"bdsd"===t?($("#pin-60").prop("checked",!0),$("#title-bill").text("Light"),$(".pin-dark").addClass("hidden"),$(".pin-light").removeClass("hidden"),$("#stkchinh, #soduchinh, #stk-nc").stop(!0,!0).slideDown(300)):($("#pin-42").prop("checked",!0),$(".pin-dark").removeClass("hidden"),$(".pin-light").addClass("hidden"),$("#title-bill").text("Dark"),$("#stkchinh, #soduchinh, #stk-nc").stop(!0,!0).slideUp(300)):"bdsd"===t?$("#stkchinh, #soduchinh, #stk-nc").stop(!0,!0).slideDown(300):$("#stkchinh, #soduchinh, #stk-nc").stop(!0,!0).slideUp(300)})),s.jq.on("change","#phuongthuc-bdsd-mbbank",(function(){"chuyentien"===$(this).val()?$("#ctk-nhan, #stk-nhan, #magiaodich").stop(!0,!0).slideDown(300):$("#ctk-nhan, #stk-nhan, #magiaodich").stop(!0,!0).slideUp(300)})),$("#type-protect").change((function(){"alom"===$(this).val()?($(".option-setting-alom").removeClass("hide"),$(".option-setting-alom").removeClass("hide")):($(".option-setting-alom").addClass("hide"),$(".option-setting-alom").addClass("hide"))})),s.jq.on("click",".fullscreen",(function(){var t=$("#player")[0];if(t.requestFullscreen)t.requestFullscreen();else if(t.mozRequestFullScreen)t.mozRequestFullScreen();else if(t.webkitRequestFullscreen)t.webkitRequestFullscreen();else if(t.msRequestFullscreen)t.msRequestFullscreen();else{if(!t.webkitEnterFullscreen)return void FuiToast.error("Trình duyệt không hỗ trợ phóng to video!");t.webkitEnterFullscreen()}})),new Plyr("#player"),setTimeout((function(){}),1e3),s.jq.on("change","input[name='naptien']",(function(){$('[id^="naptien"]').addClass("d-none"),$("#naptien"+$(this).attr("id").replace("payment","")).removeClass("d-none")})),$(".preloader").delay(555).fadeOut(400),$(".modal").on("shown.bs.modal",(function(){$(this).before($(".modal-backdrop")),$(this).css("z-index",parseInt($(".modal-backdrop").css("z-index"))+2)})),$(".menu-item").removeClass("active open"),$(".menu-link").removeClass("active"),$(".menu-item").each((function(){var t=$(this),e=t.find(".menu-link"),n=e.attr("href");if(window.location.pathname===n){e.addClass("active"),t.addClass("active");var a=t.closest(".menu-sub").closest(".menu-item");a.length&&a.addClass("active open")}else t.find(".menu-sub .menu-item").filter((function(){return $(this).find(".menu-link").hasClass("active")})).length&&t.addClass("open")})),("/"===window.location.pathname||""===window.location.pathname)&&($('.menu-item a[href="/"]').addClass("active"),$('.menu-item a[href="/"]').closest(".menu-item").addClass("active open")),s.jq.on("change","#dynamicsIsland",(t=>{$(t.target).prop("checked")?FuiToast.success("Đã bật Dynamics Island"):FuiToast.error("Đã tắt Dynamics Island")})),s.jq.on("change","#percent-pin",(t=>{$(t.target).prop("checked")?FuiToast.success("Đã bật hiện phần trăm pin"):FuiToast.error("Đã tắt phần trăm pin")})),s.jq.on("click","[data-ws-copy]",(function(t){t.preventDefault();var e=$(this).data("ws-copy");if(navigator.clipboard)navigator.clipboard.writeText(e).then((function(){FuiToast.success("Đã sao chép vào bộ nhớ tạm!")}),(function(t){FuiToast.error("Sao chép thất bại: "+t)}));else{var n=$("<textarea>").val(e).appendTo("body").select();try{document.execCommand("copy"),FuiToast.success("Đã sao chép vào bộ nhớ tạm!")}catch(t){FuiToast.error("Sao chép thất bại: "+t)}n.remove()}})),s.jq.on("click",".copy-kq",(function(t){if(t.preventDefault(),0!==(t=$("#kq-mh").text().trim()).length)if(t.length>105e3)FuiToast.error("Dữ liệu quá lớn, vui lòng sao chép<br>thủ công hoặc nhấn tải xuống!");else{var e=$("<textarea>");$("body").append(e),e.val(t).select(),document.execCommand("copy"),e.remove(),FuiToast.success("Đã sao chép vào bộ nhớ tạm!");var n=document.getElementById("kq-mh");if(window.getSelection){var a=document.createRange();a.selectNodeContents(n),window.getSelection().removeAllRanges(),window.getSelection().addRange(a)}}else FuiToast.error("Không có nội dung để sao chép!")})),s.jq.on("click",".download-kq",(function(t){t.preventDefault();var e=$("#kq-mh").text().trim(),n=$(this).data("type-download");if(0!==e.length){o();var a=new Date,i=`[OBF-${String(a.getDate()).padStart(2,"0")}.${String(a.getMonth()+1).padStart(2,"0")}.${a.getFullYear()}]-${s.rand(5)}.${"javascript"===n?"js":"php"===n?"php":"txt"}`;try{var r=new Blob([e],{type:"application/"+n}),l=URL.createObjectURL(r),c=document.createElement("a");c.href=l,c.download=i,document.body.appendChild(c),c.click(),document.body.removeChild(c),window.URL.revokeObjectURL(l)}catch(t){swal({title:"Lỗi!",text:"Đã xảy ra lỗi khi tạo tệp tải xuống: "+t.msg,icon:"error",button:"Đồng ý"})}}else FuiToast.error("Không có nội dung để tải xuống!")}))}}let d={show(t,e){let n={error:toastr.error,info:toastr.info,success:toastr.success,warning:toastr.warning}[t.toLowerCase()];n&&(n(e),c.Fakebill("OFF"))},error:t=>d.show("error",t),info:t=>d.show("info",t),success:t=>d.show("success",t),warning:t=>d.show("warning",t)};if($(".bank-auth,.novalidate").length>0)function h(t){let e=!0;return $(t).find('input[name="password_new"], input[name="username"], input[name="password"], input[name="repeat-password"], input[name="password_confirm"]').each((function(){const t=$(this).data("field")||$(this).attr("name");if($(this).val().length>27)return FuiToast.error(`Trường ${t} không được vượt quá 27 ký tự!`),e=!1,!1})),e}if("undefined"!=typeof initGeetest4&&initGeetest4({captchaId:s.gt,product:"float",riskType:"slide"},(function(t){(captchaObj=t).appendTo(".ws-captcha")})),$(".td-format-money").each((function(){var t=$(this),e=$('<small class="error-message">'+(t.data("td-msg")||"Trường này phải là một con số!")+"</small>").hide();t.after(e),t.on("input",(function(){var n=t.val().replace(/\s+/g,"");if(/^[\d.,]*$/.test(n)){var a=(s=n.replace(/[^0-9.,]/g,"")).split("."),i=a[0].replace(/,/g,""),s=a[1]||"",o=i.replace(/\B(?=(\d{3})+(?!\d))/g,",")+(s?"."+s:"");t.val(o),e.hide()}else e.show()}))})),$(".td-format-number").each((function(){var t=$(this),e=$('<small class="error-message"><b>'+(t.data("td-msg")||"Trường này phải là một con số!")+"</b></small>").hide();t.after(e),t.on("input",(function(){var n=t.val().replace(/\s+/g,"");if(/^\d*[.,]?\d*$/.test(n)){var a,i=(a=n.replace(/[^0-9.,]/g,"")).split("."),s=i[0].replace(/,/g,"")+((a=i[1]||"")?"."+a:"");t.val(s),e.hide()}else e.show()}))})),$(".td-format-sdt").each((function(){var t=$(this),e=$('<small class="error-message"><b>'+(t.data("td-msg")||"Trường này phải là một con số!")+"</b></small>").hide();t.after(e),t.on("input",(function(){var n=t.val().replace(/\s+/g,"");/^(03|07|08|09)\d{8}$/.test(n)?e.hide():e.show()}))})),s.jq.on("submit",".user-auth-register",(function(t){h(this)?function(t,e){if(t.preventDefault(),captchaObj&&"function"==typeof captchaObj.getValidate){if(!captchaObj.getValidate())return swal({title:"Thất Bại!",text:"Vui lòng xác minh captcha để tiếp tục!",icon:"error",button:"Đồng ý"});const e=function(){if(captchaObj&&"function"==typeof captchaObj.getValidate){const t=captchaObj.getValidate();return{lot_number:t.lot_number,captcha_output:t.captcha_output,pass_token:t.pass_token,gen_time:t.gen_time}}return null}();if(!e)return swal({title:"Thất Bại!",text:"Xác thực captcha không thành công!",icon:"error",button:"Đồng ý"});!function(t,e){var n=$(t.target).serializeArray(),a=["captcha","lot_number","captcha_output","pass_token","gen_time"],i=l(n.filter((t=>!a.includes(t.name))),"_auth");Object.entries(e).forEach((([t,e])=>{a.includes(t)&&(i[t]=e)})),c.OauthSignUp("ON"),$.ajax({type:"post",url:s.ajax_users,data:i,dataType:"json",success:function(e){c.OauthSignUp("OFF"),captchaObj.reset(),200==e.status?($(t.target).find('button[type="submit"]').prop("disabled",!0),$("form.user-auth-register")[0].reset(),$(window).scrollTop(0),FuiToast.success(e.msg),setTimeout((()=>{var t=new URLSearchParams(window.location.search).get("redirect");t?location.replace(t):location.replace("/")}),2200)):FuiToast.error(e.msg)},error:function(t,e,n){captchaObj.reset(),swal({title:"Thất Bại!",text:"Có vấn đề với yêu cầu của bạn, vui lòng thử lại!",icon:"error",button:"Xác Nhận"})}})}(t,e)}else swal({title:"Thất Bại!",text:"Captcha object is not properly initialized!",icon:"error",button:"Đồng ý"})}(t):t.preventDefault()})),s.jq.on("submit",".user-auth-login",(function(t){if(t.preventDefault(),h(this)){c.OauthSignIn("ON");var e=$(this).find('button[type="submit"]'),n=l($(this).serializeArray(),"_auth");$.ajax({type:"post",url:s.ajax_users,data:n,dataType:"json",success:function(t){if(c.OauthSignIn("OFF"),200===t.status){e.prop("disabled",!0),$(window).scrollTop(0);var n=new URLSearchParams(window.location.search).get("redirect");n?location.replace(n):location.replace("/")}else FuiToast.error(t.msg)},error:function(t,e,n){c.OauthSignIn("OFF"),FuiToast.error("Có vấn đề với yêu cầu của bạn, vui lòng thử lại!")}})}})),s.jq.on("click",".log-out",(function(t){t.preventDefault(),swal({title:"Cảnh Báo!",text:"Bạn có chắc chắn muốn đăng xuất tài khoản hiện tại khỏi hệ thống, bạn sẽ phải đăng nhập lại tài khoản của mình?",icon:"warning",buttons:["Huỷ bỏ","Đăng xuất"],dangerMode:!0}).then((t=>{t&&(c.OauthLogOut("ON"),$.ajax({type:"post",url:s.ajax_users,data:l([{name:"auth",value:"logout"}],"_auth"),dataType:"json",success:function(t){c.OauthLogOut("OFF"),200==t.status&&window.location.reload()},error:function(t,e,n){c.OauthLogOut("OFF"),cuteToast({type:"error",message:"Có vấn đề với yêu cầu của bạn, vui lòng thử lại!",timer:3e3})}}))}))})),s.jq.on("submit",".user-change-password",(function(t){t.preventDefault(),c.OauthChangePw("ON");var e=l($(this).serializeArray(),"_auth");$.ajax({type:"post",url:s.ajax_users,data:e,dataType:"json",success:function(t){c.OauthChangePw("OFF"),200==t.status?($(".close-modal").click(),$("form.user-change-password")[0].reset(),FuiToast.success(t.msg)):FuiToast.error(t.msg)},error:function(t,e,n){c.OauthChangePw("OFF"),FuiToast.error("Có vấn đề với yêu cầu của bạn, vui lòng thử lại!")}})})),s.jq.on("click",".change-apikey",(function(t){t.preventDefault(),swal({title:"Cảnh Báo!",text:"Bạn có chắc chắn thay đổi API Token mới, API Token hiện tại sẽ bị xoá và không còn sử dụng được nữa bạn có muốn tiếp tục?",icon:"warning",buttons:["Huỷ bỏ","Thay đổi"],dangerMode:!1}).then((t=>{t&&$.ajax({type:"post",url:s.ajax_users,data:l([{name:"action",value:"change-apikey"}],"thanhdieu-protected"),dataType:"json",success:function(t){200==t.status?(FuiToast.success(t.msg),$("#api-key").text(t.key),$("[data-ws-copy]").each((function(){$(this).attr("data-ws-copy",t.key)}))):swal({title:"Thất Bại!",text:t.msg,icon:"error"})},error:function(t,e,n){swal({title:"Thất Bại!",text:"Có vấn đề với yêu cầu của bạn, vui lòng thử lại!",icon:"error"})}})}))})),$(".user-attack-sms").length){function p(){$.ajax({url:s.ajax_users,type:"post",data:{action:"history-spamsms"},dataType:"json",success:function(t){200==t.status&&($(".rl-history-spamsms").empty(),"string"==typeof t.msg?$(".rl-history-spamsms").html(`\n                                    <tr>\n                                        <td colspan="7" class="text-center">${t.msg}</td>\n                                    </tr>\n                                `):(t.msg.data.forEach(((e,n)=>{let a;"success"===e[3]?a='<b class="badge rounded-pill bg-label-success">Hoàn Thành</b>':"fail"===e[3]?a='<b class="badge rounded-pill bg-label-danger">Thất Bại</b>':"pending"===e[3]&&(a='<b class="badge rounded-pill bg-label-warning">Đang Xử Lý</b>');let i=Math.floor((new Date(e[2])-new Date)/1e3);$(".rl-history-spamsms").append(`\n                                        <tr>\n                                            <td>${t.msg.data.length-n}</td>\n                                            <td>${e[0]}</td>\n                                            <td>${e[1].toUpperCase()}</td>\n                                            <td class="countdown" data-time="${e[2]}">${m(i>0?i:0)}</td>\n                                            <td>${a}</td>\n                                        </tr>\n                                    `),$(".total-sms").html(""+t.msg.recordsTotal)})),setInterval(b,1e3)))},error:function(t,e,n){console.log(n)}})}function m(t){let e=Math.floor(t/3600),n=Math.floor(t%3600/60);t%=60;let a=t=>t.toString().padStart(2,"0");return`${a(e)}:${a(n)}:${a(t)}`}function b(){$(".countdown").each((function(){let t=$(this),e=new Date(t.data("time")),n=new Date,a=Math.floor((e-n)/1e3);t.text(m(a>0?a:0))}))}s.jq.on("submit",".user-attack-sms",(function(t){t.preventDefault();var e=$("#sdt").val();swal({title:"Cảnh Báo!",text:"Bạn có chắc chắn muốn gửi yêu cầu spam sms đến số điện thoại: "+e+"?",icon:"warning",showCancelButton:!0,button:"Chắn chắn",cancelButtonText:"Hủy bỏ"}).then((t=>{if(t.isConfirmed){c.Attack("ON");var e=$(this).serialize();$.ajax({type:"post",url:s.ajax_users,data:e,dataType:"json",success:function(t){c.Attack("OFF"),200==t.status?($("#sdt").val(""),FuiToast.success(t.msg),$.post(s.ajax_users,{action:"thanhdieu-attack-sms",sdt:t.sdt,spamsms_id:t.spamsms_id})):swal({title:"Thất Bại!",text:t.msg,icon:"error"})},error:function(t,e,n){c.Attack("OFF"),FuiToast.error("Có vấn đề với yêu cầu của bạn, vui lòng thử lại!")}})}}))})),setInterval(p,1e3),p()}if(s.jq.on("click",".delete-history-fakebill",(function(){var t=$(this).data("fakebill-id"),e=$(this);Wsloader(!0),swal({title:"Xác Nhận Xoá",text:"Sau khi nhấn tiếp tục, dữ liệu về bill này sẽ bị xoá và không thể khôi phục với bất cứ hình thức nào?",icon:"warning",buttons:!0,buttons:["Huỷ bỏ","Tiếp tục"]}).then((n=>{n?$.ajax({url:s.ajax_users,type:"post",data:l([{name:"action",value:"delete-history-fakebill"},{name:"fakebill_id",value:t}],"thanhdieu-protected"),dataType:"json",success:function(t){Wsloader(!1),200==t.status?(FuiToast.success(t.msg),e.closest("tr").remove()):swal({title:"Thất Bại!",text:t.msg,icon:"error"})},error:function(){Wsloader(!1),swal({title:"Thất Bại!",text:"Có vấn đề với yêu cầu của bạn, vui lòng thử lại!",icon:"error"})}}):Wsloader(!1)}))})),$(".user-attack-ngl-link").length){function g(){var t=$("#ngl-status"),o=t.val();if(a>0){var r,l=n+" @ "+`${(r=new Date).getFullYear()}-${("0"+(r.getMonth()+1)).slice(-2)}-${("0"+r.getDate()).slice(-2)} | ${("0"+r.getHours()).slice(-2)}:${("0"+r.getMinutes()).slice(-2)}:${("0"+r.getSeconds()).slice(-2)} : ID-`+s.randstr(25);t.val(o+(o?"\n":"")+l),a--,t.scrollTop(t[0].scrollHeight)}else clearInterval(e),clearInterval(i),t.val(o+(o?"\n":"")+"done"),t.scrollTop(t[0].scrollHeight)}function f(){for(var t=["alert-info","alert-danger","alert-success","alert-primary","alert-warning"],e=$("#ngl-status").attr("class").split(" ").find((e=>t.includes(e))),n=t[Math.floor(Math.random()*t.length)];n===e;)n=t[Math.floor(Math.random()*t.length)];$("#ngl-status").removeClass(e).addClass(n)}s.jq.on("submit",".user-attack-ngl-link",(function(t){t.preventDefault(),c.Attack("ON");var o=$(this).serialize();$.ajax({type:"post",url:s.ajax_users,data:o,dataType:"json",success:function(t){c.Attack("OFF"),200==t.status?($("form")[0].reset(),$("select").each((function(){$(this).prop("selectedIndex",0)})),$("html, body").animate({scrollTop:$(document).height()-$(window).height()},100),FuiToast.success(t.msg),setTimeout((()=>{var o,r,l;n="· [root@sent-data ~]# : "+t.server+" /"+t.target+"/",a=t.count,e=setInterval(g,100),i=setInterval(f,1e3),o=t.target,r=t.server,l=t.question,$.post(s.ajax_users,{action:"thanhdieu-attack-ngl",target:o,server:r,question:l})}),1e3)):($("#ngl-status").val(t.msg),$("#ngl-status").scrollTop($("#ngl-status")[0].scrollHeight),clearInterval(i),swal({title:"Thất Bại!",text:t.msg,icon:"error"}))},error:function(t,e,n){c.Attack("OFF"),FuiToast.error("Có vấn đề với yêu cầu của bạn, vui lòng thử lại!")}})}))}let k=!1;function v(t,e){s.jq.on("submit",t,(function(t){t.preventDefault();var n=new FormData(this),a=$("#file-mt");a.length>0&&n.append("avatar",a.data("file")),n.append("action",e),k&&n.append("xem-truoc","yes"),k?c.XemTruoc("ON"):c.Fakebill("ON"),$.ajax({type:"post",url:s.ajax_users,data:n,processData:!1,contentType:!1,dataType:"json",success:function(t){k?c.XemTruoc("OFF"):c.Fakebill("OFF"),200==t.status?(u.DownloadBill(e.toUpperCase()+"-"+s.author+s.rand(5)+".png","data:image/jpeg;base64,"+t.blob),u.ReviewBill("data:image/jpeg;base64,"+t.blob,e.toUpperCase()),FuiToast.success(t.msg)):swal("Thất Bại!",t.msg,"error",{button:"Đã hiểu"})},error:function(t,e,n){k?c.XemTruoc("OFF"):c.Fakebill("OFF"),swal("Thất Bại!","Lỗi máy chủ khi cố gắng xử lý tạo bill, vui lòng liên hệ cho quản trị viên để khắc phục vấn đề.","error",{button:"Đã hiểu"})}})}))}if($(document).on("click",".xem-truoc",(function(){k=!0})),$(document).on("click",".nui-button-lavender",(function(){k=!1})),s.jq.on("click","[data-demo-name]",(function(){var t=$(this).data("demo-name");$.ajax({url:s.ajax_default,type:"post",data:{action:"call-demo",demoName:t,key:s.key},dataType:"json",success:function(t){200==t.status?($("#ws-call-demo").remove(),$("body").append(t.result),$("#ws-call-demo").addClass("show")):d.error(t.msg)},error:function(){d.error("Có vấn đề với yêu cầu của bạn, vui lòng thử lại!")}})})),s.jq.on("click",".user-thue-goi",(function(){var t=$(this).data("plan");c.MuaGoi("ON"),swal({title:"Xác Nhận Thanh Toán",text:"Bạn đang thực hiện thanh toán gói VIP"+t+" bạn có muốn tiếp tục hành động này?",icon:"warning",buttons:!0,buttons:["Huỷ bỏ","Tiếp tục"]}).then((e=>{e?$.ajax({url:s.ajax_users,type:"post",data:l([{name:"action",value:"thue-goi-vip"},{name:"plan",value:t},{name:"key",value:s.key}],"thanhdieu-protected"),dataType:"json",success:function(t){c.MuaGoi("OFF"),200==t.status?swal({title:"Thành Công",text:t.msg,closeOnClickOutside:!1,closeOnEsc:!1,button:"Xác Nhận"}).then((()=>{$(".thanhdieu-refresh").load(location.href+" .thanhdieu-refresh > *")})):swal({title:"Thất Bại!",text:t.msg,icon:"error"})},error:function(){c.MuaGoi("OFF"),swal({title:"Thất Bại!",text:"Có vấn đề với yêu cầu của bạn, vui lòng thử lại!",icon:"error"})}}):c.MuaGoi("OFF")}))})),$("#ThanhDieu_DataTables_Table").length&&$(".rl-history-purchase").length&&$.ajax({url:s.ajax_users,type:"post",data:l([{name:"action",value:"history-purchase"}],"thanhdieu-protected"),dataType:"json",success:function(t){200===t.status&&("string"==typeof t.msg?$(".rl-history-purchase").html(`<tr><td colspan="5" class="text-center text-muted-400 fs-13px p-1">${t.msg}</td></tr>`):t.msg.data.forEach(((e,n)=>{$(".dataTables_empty").hide(),$(".total-records").html(`Tổng <b>${t.msg.recordsTotal}</b> bản ghi`);let a=`<button type="download" data-product-id="${e[0]}" class="nui-button-action nui-button-success nui-button-rounded-md nui-button-shadow download-product"><i class="ri-download-cloud-2-line me-1"></i>Tải Xuống</button>`;$(".rl-history-purchase").append(`<tr class="border-t border-muted-200 py-4 px-3 font-sans font-normal dark:border-muted-800 text-nowrap hover:bg-muted-200 dark:hover:bg-muted-800 cursor-pointer transition-colors duration-200 ease-in-out"><td class="p-2">&ensp;<span class="text-muted-500 dark:text-muted-300 font-sans text-sm font-medium leading-none">${e[1]}</span></td><td class="p-2">&ensp;<span class="nui-text nui-content-sm nui-weight-medium nui-lead-none text-muted-800 dark:text-muted-100" data-nui-tooltip="Nhấn để tới link đơn hàng"><a class="text-primary-500" target="_blank" href="${e[5]}">${e[2]}</a></span></td><td class="p-2">&ensp;<span class="nui-text nui-content-sm nui-weight-medium nui-lead-none text-muted-400">${e[3]}</span></td><td class="p-2">&ensp;<span class="nui-text nui-content-sm nui-weight-medium nui-lead-none text-muted-400">${e[4]}</span></td><td class="p-2">${a}</td></tr>`)})))},error:function(t,e,n){swal({title:"Thất Bại!",text:"Lỗi máy chủ nội bộ, không thể tải lịch sử mua hàng!",icon:"error"})}}),$("#ThanhDieu_DataTables_Table").length&&$(".rl-history-deposit").length&&$.ajax({url:s.ajax_users,type:"post",data:l([{name:"action",value:"history-deposit"}],"thanhdieu-protected"),dataType:"json",success:function(t){200===t.status&&("string"==typeof t.msg?$(".rl-history-deposit").html(`<tr><td colspan="5" class="text-center text-muted-400 fs-13px p-1">${t.msg}</td></tr>`):t.msg.data.forEach(((e,n)=>{$(".dataTables_empty").hide(),$(".total-records").html(`Tổng <b>${t.msg.recordsTotal}</b> bản ghi`);let a="thanhcong"===e[4]?'<span class="bg-muted-100 dark:bg-muted-600/10 text-success-500 m-1 inline-flex items-center gap-2 rounded-full px-3 py-1.5 font-sans text-xs"><span class="size-2 rounded-full bg-success-400"></span><span>Thành Công</span></span>':'<span class="bg-muted-100 dark:bg-muted-600/10 text-warning-500 m-1 inline-flex items-center gap-2 rounded-full px-3 py-1.5 font-sans text-xs"><span class="size-2 rounded-full bg-warning-400"></span><span>Thất Bại</span></span>';$(".rl-history-deposit").append(`<tr class="border-t border-muted-200 py-4 px-3 font-sans font-normal dark:border-muted-800 text-nowrap hover:bg-muted-200 dark:hover:bg-muted-800 cursor-pointer transition-colors duration-200 ease-in-out"><td class="p-2">&ensp;<span class="text-muted-500 dark:text-muted-300 font-sans text-sm font-medium leading-none">${e[0]}</span></td><td class="p-2">&ensp;<span class="nui-text nui-content-sm nui-weight-medium nui-lead-none text-muted-800 dark:text-muted-100">${e[1]}</span></td><td class="p-2">&ensp;<span class="nui-text nui-content-sm nui-weight-medium nui-lead-none text-muted-400">${e[2]}</span></td><td class="p-2">&ensp;<span class="nui-text nui-content-sm nui-weight-medium nui-lead-none text-muted-400">${e[3]}</span></td><td class="p-2">${a}</td></tr>`)})))},error:function(t,e,n){swal({title:"Thất Bại!",text:"Lỗi máy chủ nội bộ, không thể tải lịch sử nạp tiền!",icon:"error"})}}),$("#ThanhDieu_DataTables_Table").length&&$(".rl-history-plan").length&&$.ajax({url:s.ajax_users,type:"post",data:l([{name:"action",value:"history-buyplan"}],"thanhdieu-protected"),dataType:"json",success:function(t){200===t.status&&("string"==typeof t.msg?($(".rl-history-plan").html(`<tr> <td colspan="7" class="text-center text-muted-400 fs-13px p-1">${t.msg}</td></tr>`),$(".current-plan").text("Không Có")):t.msg.data.forEach(((e,n)=>{$(".dataTables_empty").hide(),$(".total-records").html(`Tổng <b>${t.msg.recordsTotal}</b> bản ghi`),$(".total-buyplan").html(`${t.msg.recordsTotal} Gói`);let a="";a="1"===e[5]?'<span class="bg-muted-100 dark:bg-muted-600/10 text-success-500 m-1 inline-flex items-center gap-2 rounded-full px-3 py-1.5 font-sans text-xs"><span class="size-2 rounded-full bg-success-400"></span><span>Hoạt Động</span></span>':"2"===e[5]?'<span class="bg-muted-100 dark:bg-muted-600/10 text-warning-500 m-1 inline-flex items-center gap-2 rounded-full px-3 py-1.5 font-sans text-xs"><span class="size-2 rounded-full bg-warning-400"></span><span>Tạm Khoá</span></span>':'<span class="bg-muted-100 dark:bg-muted-600/10 text-red-500 m-1 inline-flex items-center gap-2 rounded-full px-3 py-1.5 font-sans text-xs"><span class="size-2 rounded-full bg-danger-500"></span><span>Đã Hết Hạn</span></span>',$(".rl-history-plan").append(`<tr class="border-t border-muted-200 py-4 px-3 font-sans font-normal dark:border-muted-800 text-nowrap hover:bg-muted-200 dark:hover:bg-muted-800 cursor-pointer transition-colors duration-200 ease-in-out"><td class="p-2 ml-2">&ensp;<span class="text-muted-500 dark:text-muted-300 font-sans text-sm font-medium leading-none">#${t.msg.data.length-n}</span></td><td class="p-2">&ensp;<span class="text-muted-500 dark:text-muted-300 font-sans text-sm font-medium leading-none">${e[0]}</span></td><td class="p-2">&ensp;<span class="nui-text nui-content-sm nui-weight-medium nui-lead-none text-muted-800 dark:text-muted-100">${e[1]}</span></td><td class="p-2">&ensp;<span class="nui-text nui-content-sm nui-weight-medium nui-lead-none text-muted-400">${e[2]}</span></td><td class="p-2">&ensp;<span class="nui-text nui-content-sm nui-weight-medium nui-lead-none text-muted-400">${e[3]}</span></td><td class="p-2">&ensp;<span class="nui-text nui-content-sm nui-weight-medium nui-lead-none text-muted-400">${e[4]}</span></td><td class="p-2">${a}</td></tr>`)})))},error:function(t,e,n){swal({title:"Thất Bại!",text:"Lỗi máy chủ nội bộ, không thể tải lịch sử mua gói!",icon:"error"})}}),$("#ThanhDieu_DataTables_Table").length&&$(".rl-history-fakebill").length&&$.ajax({url:s.ajax_users,type:"post",data:l([{name:"action",value:"history-fakebill"}],"thanhdieu-protected"),dataType:"json",success:function(t){200===t.status&&("string"==typeof t.msg?$(".rl-history-fakebill").html(`<tr><td colspan="6" class="text-center text-muted-400 fs-13px p-1">${t.msg}</td></tr>`):t.msg.data.forEach(((e,n)=>{$(".dataTables_empty").hide(),$(".total-records").html(`Tổng <b>${t.msg.recordsTotal}</b> bản ghi`),$(".total-fakebill").html(`${t.msg.recordsTotal}</b> Bill`);let a=`<button type="button" data-target-href-open="https://${e[2]}" data-nui-tooltip-position="left" data-nui-tooltip="Nhấn để xem" class="nui-button-action nui-button-default nui-button-rounded-md nui-button-shadow"><i class="ri-eye-line"></i></button>&nbsp;<button type="button" name-bill="Bill ${e[4]}-${e[1]}" link-bill="https://${e[2]}" data-nui-tooltip="Nhấn để tải xuống" data-nui-tooltip-position="left" class="dl-bill nui-button-action nui-button-success nui-button-rounded-md nui-button-shadow"><i class="ri-download-line"></i></button>&nbsp;<button type="button" data-fakebill-id="${e[0]}" data-nui-tooltip-position="left" data-nui-tooltip="Nhấn để xoá" class="delete-history-fakebill nui-button-action nui-button-danger nui-button-rounded-md nui-button-shadow"><i class="ri-delete-bin-5-line"></i></button>`;$(".rl-history-fakebill").append(`<tr class="border-t border-muted-200 py-4 px-3 font-sans font-normal dark:border-muted-800 text-nowrap hover:bg-muted-200 dark:hover:bg-muted-800 cursor-pointer transition-colors duration-200 ease-in-out"><td class="p-2">&ensp;<span class="text-muted-500 dark:text-muted-300 font-sans text-sm font-medium leading-none">#${t.msg.data.length-n}</span></td><td class="p-2">&ensp;<span class="nui-text nui-content-sm nui-weight-medium nui-lead-none text-muted-800 dark:text-muted-100">${e[1]}</span></td><td class="p-2">&ensp;<span class="nui-text nui-content-sm nui-weight-medium nui-lead-none text-muted-400"><a href="https://${e[2]}" target="_blank" class="text-primary-500">${`https://${e[2]}`.length>30?`https://${e[2]}`.substring(0,7)+"...xem thêm":`https://${e[2]}`}</a></span></td><td class="p-2">&ensp;<span class="nui-text nui-content-sm nui-weight-medium nui-lead-none text-muted-400">${e[3]}</span></td><td class="p-2">&ensp;<span class="nui-text nui-content-sm nui-weight-medium nui-lead-none text-muted-400">Bill ${e[4]}</span></td><td class="p-2">${a}</td></tr>`)})))},error:function(t,e,n){swal({title:"Thất Bại!",text:"Lỗi máy chủ nội bộ, không thể tải lịch sử tạo bill!",icon:"error"})}}),setInterval((function(){$.ajax({url:"/call-back/api/n",type:"get",dataType:"json",success:function(t){switch(t.status){case 200:$("#status-deposit").html('Thành Công<i class="ri-arrow-right-s-line me-1"></i>').prop("disabled",!1).attr("data-target-href","/#!back"),$("#lavender-transfer").length>0?(swal("Chúc Mừng!",t.msg),setTimeout((()=>{window.location.replace("/lich-su/nap-tien")}),36e5)):swal("Chúc Mừng!",t.msg);break;case-1:swal("Thất Bại!",t.msg);break;case-2:$("body").html(`<div id="session-expired" role="dialog" class="relative z-[9999] select-none"><div class="bg-muted-800/70 dark:bg-muted-900/80 fixed inset-0"></div><div class="fixed inset-0"><div class="flex min-h-full items-center justify-center p-4 text-center"><div class="dark:bg-muted-800 w-full bg-white text-left align-middle shadow-xl transition-all rounded-md max-w-md"><div class="p-4 md:p-6"><div class="mx-auto w-full max-w-xs text-center"><div class="relative mx-auto flex justify-center items-center pointer-events-none"><img src="${s.root_path}/img/icon/front-pages/user-null.png" style="width:12rem!important" class="max-w-full object-cover shadow-sm dark:border-transparent" alt=""></div><p class="font-alt fs-15px text-mute-500 dark:text-mute-400 text-sm leading-5">${t.msg}!</p><div class="flex w-full items-center gap-x-2 justify-center"><div class="mt-4"><div class="flex gap-x-2"><button type="button" data-target-href="/oauth/dang-xuat" class="nui-button nui-button-md nui-button-rounded-sm nui-button-solid nui-button-primary">Xác Nhận&ensp;<i class="ri-arrow-right-s-line"></i></button></div></div></div></div></div></div></div></div></div>`)}}})}),3500),s.jq.on("submit",".user-generator-subdomain",(function(t){t.preventDefault(),c.Confirm("ON");var e=$(this).serialize();$.ajax({type:"post",url:s.ajax_users,data:e,dataType:"json",success:function(t){c.Confirm("OFF"),200==t.status?($(".rl-history-subdomain").load(location.href+" .rl-history-subdomain > *"),setTimeout((()=>{window.location.reload()}),1500),FuiToast.success(t.msg)):swal({title:"Thất Bại!",text:t.msg,icon:"error"})},error:function(t,e,n){c.Confirm("OFF"),FuiToast.error("Có vấn đề với yêu cầu của bạn, vui lòng thử lại!")}})})),s.jq.on("submit",".user-edit-subdomain",(function(t){t.preventDefault(),Wsloader(!0);var e=$(this).serialize();$.ajax({type:"post",url:s.ajax_users,data:e,dataType:"json",success:function(t){Wsloader(!1),200==t.status?($(".rl-history-subdomain").load(location.href+" .rl-history-subdomain > *"),FuiToast.success(t.msg)):swal({title:"Thất Bại!",text:t.msg,icon:"error"})},error:function(t,e,n){Wsloader(!1),FuiToast.error("Có vấn đề với yêu cầu của bạn, vui lòng thử lại!")}})})),s.jq.on("click",".user-delete-subdomain",(function(t){t.preventDefault();var e=$(this).data("id-domain"),n=$(this).data("name-domain"),a=$(this).data("suffix-domain"),i=$(this);swal({title:"Cảnh Báo!",text:"Xác nhận xoá tên miền "+n+" khỏi tài khoản?",icon:"warning",showCancelButton:!0,button:"Xoá ngay",cancelButtonText:"Hủy bỏ"}).then((t=>{t.isConfirmed&&(Wsloader(!0),$.ajax({type:"post",url:s.ajax_users,data:{action:"user-delete-subdomain",subdomain:n,domain_id:e,suffix:a},dataType:"json",success:function(t){Wsloader(!1),200==t.status?(i.closest("tr").remove(),FuiToast.success(t.msg)):swal({title:"Thất Bại!",text:t.msg,icon:"error"})},error:function(t,e,n){Wsloader(!1),FuiToast.error("Có vấn đề với yêu cầu của bạn, vui lòng thử lại!")}}))}))})),$(".codemirror").length){var y=CodeMirror.fromTextArea($(".codemirror").get(0),{lineNumbers:!0,mode:"php",theme:"monokai"});y.setSize(null,200)}if(s.jq.on("click",".clear-form-obf",(function(t){t.preventDefault(),$("form")[0].reset(),$('input[type="checkbox"], input[type="radio"]').prop("checked",!1),$("select").each((function(){$(this).prop("selectedIndex",0)})),void 0!==y&&y.setValue(" Vui lòng dán đoạn code cần làm xáo trộn!"),FuiToast.success("Đã đặt lại tất cả các tuỳ chọn!"),$("html, body").animate({scrollTop:0},"fast")})),s.jq.on("submit",".__thanhdieu-obfuscate-javascript",(function(t){t.preventDefault(),c.Obfuscate("ON");var e=$(this).serializeArray(),n={};$.each(e,(function(t,e){n[e.name]=e.value})),n.stringEncoding=$('input[name="stringEncoding"]').is(":checked"),n.stringConcealing=$('input[name="stringConcealing"]').is(":checked"),n.stringCompression=$('input[name="stringCompression"]').is(":checked"),n.stringSplitting=$('input[name="stringSplitting"]').is(":checked"),n.renameVariables=$('input[name="renameVariables"]').is(":checked"),n.renameGlobals=$('input[name="renameGlobals"]').is(":checked"),n.movedDeclarations=$('input[name="movedDeclarations"]').is(":checked"),n.controlFlowFlattening=$('input[name="controlFlowFlattening"]').is(":checked"),n.dispatcher=$('input[name="dispatcher"]').is(":checked"),n.opaquePredicates=$('input[name="opaquePredicates"]').is(":checked"),n.deadCode=$('input[name="deadCode"]').is(":checked"),n.calculator=$('input[name="calculator"]').is(":checked"),n.selfDefending=$('input[name="selfDefending"]').is(":checked"),n.integrity=$('input[name="integrity"]').is(":checked"),n.antiDebug=$('input[name="antiDebug"]').is(":checked"),n.duplicateLiteralsRemoval=$('input[name="duplicateLiteralsRemoval"]').is(":checked"),n.shuffle=$('input[name="shuffle"]').is(":checked"),n.stack=$('input[name="stack"]').is(":checked"),$.ajax({url:"https://py-obf-thanh-dieu-com.vercel.app/javascript/obfuscate",type:"post",contentType:"application/json",data:JSON.stringify(n),success:function(t){c.Obfuscate("OFF"),$("#kq-mh").text(t),Prism.highlightElement(document.getElementById("kq-mh")),$("html, body").animate({scrollTop:$(document).height()-$(window).height()},150)},error:function(){c.Obfuscate("OFF"),$("#kq-mh").html("Đã xảy ra lỗi trong quá trình obfuscation")}})})),s.jq.on("submit",".__thanhdieu-obfuscate-php",(function(t){t.preventDefault(),c.Obfuscate("ON");var e=$(this).serialize();$.ajax({url:s.ajax_users,type:"post",data:e,success:function(t){c.Obfuscate("OFF"),$("#kq-mh").text(t);var e=t.match(/Tải xuống:\s*(\S+)/);e?(o(),window.location.href=e[1]):(Prism.highlightElement(document.getElementById("kq-mh")),$("html, body").animate({scrollTop:$(document).height()-$(window).height()},150))},error:function(){c.Obfuscate("OFF"),$("#kq-mh").html("Đã xảy ra lỗi trong quá trình obfuscation")}})})),s.jq.on("submit",".user-scan-info-fb",(function(t){t.preventDefault();var e=$(this).serialize();swal({title:"Thông Báo!",text:"Giá mõi lần tìm info facebook là {null} bạn có muốn tiếp tục?",icon:"warning",showCancelButton:!0,button:"Xoá ngay",cancelButtonText:"Hủy bỏ"}).then((t=>{t.isConfirmed&&(c.Confirm("ON"),$.ajax({type:"post",url:s.ajax_users,data:e,dataType:"json",success:function(t){c.Confirm("OFF"),200==t.status?swal({title:"Thành Công!",text:t.msg,icon:"success"}):swal({title:"Thất Bại!",text:t.msg,icon:"error"})},error:function(t,e,n){c.Confirm("OFF"),FuiToast.error("Có vấn đề với yêu cầu của bạn, vui lòng thử lại!")}}))}))})),s.jq.on("submit",".user-confirm-email",(function(t){t.preventDefault();var e=$(this).serialize(),n=$(this).find("button[type='submit']");swal({title:"Thông Báo!",text:"Nếu không tìm thấy thông báo email từ chúng tôi, vui lòng kiểm tra thông báo trong phần thư rác (spam).",icon:"warning",showCancelButton:!0,button:"Xác minh",cancelButtonText:"Hủy bỏ"}).then((t=>{t.isConfirmed&&(c.Confirm("ON"),$.ajax({type:"post",url:s.ajax_users,data:e,dataType:"json",success:function(t){c.Confirm("OFF"),200==t.status?(swal({title:"Thông Báo!",text:t.msg,icon:"info"}),(t.expires_at||t.remaining_time)&&function(t,e,n){var a;t?a=setInterval((function(){var e=Math.floor((new Date(t).getTime()-(new Date).getTime())/1e3);e<=0?(clearInterval(a),n.html('<i class="ri-check-line me-2"></i>Gửi Lại').prop("disabled",!1)):n.html("Gửi lại sau "+e+" giây").prop("disabled",!0)}),1e3):e&&(a=setInterval((function(){e<=0?(clearInterval(a),n.html('<i class="ri-check-line me-2"></i>Gửi Lại').prop("disabled",!1)):(n.html("Gửi lại sau "+e+" giây").prop("disabled",!0),e--)}),1e3))}(t.expires_at,t.remaining_time,n),1==t.confirm_email&&window.location.replace("/")):swal({title:"Thất Bại!",text:t.msg,icon:"error"})},error:function(){c.Confirm("OFF"),FuiToast.error("Có vấn đề với yêu cầu của bạn, vui lòng thử lại!")}}))}))})),s.jq.on("submit",".user-auth-forgotpw",(function(t){t.preventDefault(),c.Confirm("ON");var e=l($(this).serializeArray(),"thanhdieu-protected");$.ajax({type:"post",url:s.ajax_users,data:e,dataType:"json",success:function(t){c.Confirm("OFF"),200==t.status?($('input[type="email"]').val(""),swal({title:"Thông Báo!",text:t.msg,icon:"info"})):FuiToast.error(t.msg)},error:function(){c.Confirm("OFF"),FuiToast.error("Có vấn đề với yêu cầu của bạn, vui lòng thử lại!")}})})),s.jq.on("submit",".user-reset-pw",(function(t){t.preventDefault();var e=$(this).serializeArray(),n=e.filter((function(t){return"token"===t.name}))[0]?.value,a=l(e=e.filter((function(t){return"token"!==t.name})),"thanhdieu-protected");a.token=n,c.OauthChangePw("ON"),$.ajax({type:"post",url:s.ajax_users,data:a,dataType:"json",success:function(t){c.OauthChangePw("OFF"),200==t.status?($("form.user-reset-pw")[0].reset(),FuiToast.success(t.msg),setTimeout((()=>{window.location.replace("/oauth/dang-nhap")}),2500)):(t.reload&&setTimeout((()=>{window.location.reload()}),3e3),FuiToast.error(t.msg))},error:function(){c.OauthChangePw("OFF"),FuiToast.error("Có vấn đề với yêu cầu của bạn, vui lòng thử lại!")}})})),$(".bill-info").length)if("undefined"!=typeof EventSource){var w=new EventSource("/call-back/lavender");let W=null;w.onmessage=function(t){var e=JSON.parse(t.data);if(e&&e["user-ini"]){var n=e["user-ini"];if(!W||W.leftBill!==n.leftBill||W.limitBill!==n.limitBill){W=n;let t=n.planNone?n.planNone+"&nbsp;":"";$(".bill-info").html('<span class="text-xs">Còn lại</span>&nbsp;'+n.leftBill+"/"+n.limitBill+"&nbsp;lượt tạo bill&nbsp;"+t+'<span class="cursor-pointer" data-nui-tooltip="Sẽ được làm mới lúc 00:00 giờ mõi ngày."><i class="ri-question-line"></i></span>')}}}}else FuiToast.error("Your browser doesn't support Server-Sent Events.");if("on"===$("html").attr("data-log")&&$(".wt-show-log").length){var x=[];function T(t){x.length>=3&&C(x[0]);var e=$(`<div class="dhk-notification"><img src="${atob(t.avatar)}" alt="${t.author}" class="dhk-avatar"><div class="dhk-content"><div class="dhk-top-row"><div class="dhk-username">${t.author}</div><div class="dhk-time">${t.timeago}</div></div><div class="dhk-action">${t.content}</div></div></div>`);$("body").append(e),e.css({bottom:t.bottom+"px",opacity:0}).animate({bottom:"20px",opacity:1},500),x.push(e),setTimeout((function(){C(e)}),t.timeout)}function C(t){t&&t.fadeOut(300,(function(){$(this).remove(),x=x.filter((e=>e[0]!==t[0]))}))}$.getJSON("/log",(function(t){if(200===t.status){var e=t.info,n=0;for(let t=0;t<1&&n<e.length;t++,n++)T(e[n]);setInterval((function(){n<e.length?(T(e[n]),n++):n=0}),3e3)}}))}s.jq.on("submit",".user-make-qr-cccd",(function(t){t.preventDefault(),c.Confirm("ON");var e=$(this).serialize();$.ajax({type:"post",url:s.ajax_users,data:e,dataType:"json",success:function(t){c.Confirm("OFF"),200==t.status?(FuiToast.success(t.msg),u.DownloadBill("[QR-Code-CCCD]-"+s.rand(5)+".png",t.img),u.ReviewBill(t.img,"[QR-Code-CCCD]")):swal({title:"Thất Bại!",text:t.msg,icon:"error"})},error:function(t,e,n){c.Confirm("OFF"),swal({title:"Thất Bại!",text:"Có vấn đề với yêu cầu của bạn, vui lòng thử lại!",icon:"error"})}})})),s.jq.on("submit",".hk-fake-cccd",(function(t){t.preventDefault(),c.FakeGiayTo("ON");var e=new FormData(this),n=$("#file-mt");n.length>0&&e.append("anhthe",n.data("file")),$.ajax({type:"post",url:s.ajax_users,data:e,processData:!1,contentType:!1,dataType:"json",success:function(t){if(c.FakeGiayTo("OFF"),200==t.status){$("html, body").animate({scrollTop:$(document).height()},200);const e={"cccd-mat-truoc":{xtype:"Mặt Trước",xclass:".cccd-mat-truoc"},"cccd-mat-sau":{xtype:"Mặt Sau",xclass:".cccd-mat-sau"}},{xtype:n,xclass:a}=e[t.info.type[0]];$(a+" img").attr("data-src",t.img).attr("src",t.img),u.DownloadBill("[FAKE-CCCD]-"+n+"-"+s.rand(5)+".png","data:image/jpeg;base64,"+t.img),u.ReviewBill("data:image/jpeg;base64,"+t.img,"[FAKE-CCCD]-"+n),FuiToast.success(t.msg)}else swal({title:"Thất Bại!",text:t.msg,icon:"error"})},error:function(t,e,n){c.FakeGiayTo("OFF"),swal({title:"Thất Bại!",text:"Có vấn đề với yêu cầu của bạn, vui lòng thử lại!",icon:"error"})}})})),s.jq.on("click",".order-product",(function(){var t=$(this).data("product-id"),e=$(this).data("product-price");Wsloader(!0),swal({title:"Xác Nhận",text:"Bạn đang yêu cầu thanh toán cho đơn hàng #"+t+" với giá "+e+" sau khi thanh toán thành công, hãy vào trang lịch sử mua code để tải xuống.",icon:"warning",buttons:!0,buttons:["Huỷ bỏ","Mua Ngay"]}).then((e=>{e?$.ajax({url:s.ajax_users,type:"post",data:l([{name:"action",value:"order-product"},{name:"product-id",value:t}],"thanhdieu-protected"),dataType:"json",success:function(t){Wsloader(!1),200==t.status?(swal({title:"Thành Công!",text:t.msg,icon:"info"}),$(".thanhdieu-refresh").load(location.href+" .thanhdieu-refresh > *")):swal({title:"Thất Bại!",text:t.msg,icon:"error"})},error:function(){Wsloader(!1),swal({title:"Thất Bại!",text:"Có vấn đề với yêu cầu của bạn, vui lòng thử lại!",icon:"error"})}}):Wsloader(!1)}))})),s.jq.on("click",".download-product",(function(t){t.preventDefault(),c.Download("ON"),t=$(this).data("product-id"),$.ajax({type:"post",url:s.ajax_users,data:l([{name:"action",value:"download-product"},{name:"product-id",value:t}],"thanhdieu-protected"),dataType:"json",success:function(t){setTimeout((()=>{c.Download("OFF")}),t.timeout),200==t.status?(FuiToast.success(t.msg),setTimeout((()=>{window.location.href=t.url}),t.timeout)):FuiToast.error(t.msg)},error:function(t,e,n){c.Download("OFF"),FuiToast.error("Có vấn đề với yêu cầu của bạn, vui lòng thử lại!")}})})),s.jq.on("submit",".user-deposit-step-send",(function(t){t.preventDefault(),c.Deposit("ON");var e=l($(this).serializeArray(),"thanhdieu-protected");$.ajax({type:"post",url:s.ajax_users,data:e,dataType:"json",success:function(t){200==t.status?(Wsloader(!0),FuiToast.success(t.msg),setTimeout((()=>{window.location.replace(t.redirect)}),t.timeout)):(c.Deposit("OFF"),FuiToast.error(t.msg))},error:function(t,e,n){c.Deposit("OFF"),FuiToast.error("Có vấn đề với yêu cầu của bạn, vui lòng thử lại!")}})})),s.jq.on("submit",".hk-thue-bank",(function(t){t.preventDefault(),c.ThueNgay("ON");var e=l($(this).serializeArray(),"thanhdieu-protected");swal({title:"Xác Nhận!",text:"Bạn đang yêu cầu thuê app bank ảo, hãy đảm bảo rằng thông tin của bạn là chính xác.",icon:"warning",buttons:{cancel:{text:"Hủy bỏ",value:null,visible:!0,className:"",closeModal:!0},confirm:{text:"Chấp Nhận",value:!0,visible:!0,className:"",closeModal:!0}}}).then((t=>{t?$.ajax({type:"post",url:s.ajax_users,data:e,dataType:"json",success:function(t){Wsloader(!0),c.ThueNgay("OFF"),200==t.status?swal({title:"Thành Công!",text:t.msg,icon:"info"}):swal({title:"Thất Bại!",text:t.msg,icon:"error"})},error:function(t,e,n){c.ThueNgay("OFF"),FuiToast.error("Có vấn đề với yêu cầu của bạn, vui lòng thử lại!")}}):(Wsloader(!0),c.ThueNgay("OFF"))}))})),$("#wt-dropzone").length&&(Dropzone.autoDiscover=!1,new Dropzone("#wt-dropzone",{url:"/upload",paramName:"anhthe",maxFilesize:10,maxFiles:1,acceptedFiles:".jpeg,.jpg,.png",addRemoveLinks:!0,dictRemoveFile:"Xóa file",dictDefaultMessage:"<span class='text-red-800'>Kéo và thả vào đây hoặc nhấn để chọn ảnh để tải lên </span><span class='note needsclick text-red-500'>(Chỉ hỗ trợ ảnh có định dạng jpeg/jpg/png và tối đa 4MB)</span>",init:function(){this.on("addedfile",(function(t){if(Wsloader(!0),this.files.length>1)return this.removeFile(this.files[0])})),this.on("success",(function(t,e){return $("#dz-uploader").val(t.dataURL),FuiToast.success("Tải ảnh lên thành công!"),Wsloader(!1)})),this.on("error",(function(t,e){return FuiToast.error("Tải ảnh lên không thành công!"),Wsloader(!1)})),this.on("removedfile",(function(t){return $("#dz-uploader").val(""),FuiToast.success("Đã xóa file thành công!"),Wsloader(!1)}))}}),s.jq.on("click","#wt-dropzone",(function(){$(this).find("input[type=file]").click()}))),s.jq.on("click",".wt-dl,.dl-btn,.qrcode-img",(function(){let t=$(this).data("dl-bill"),e=$(this).data("name-file")||"[IMG]-Download.png",n=$("<a>");if(!t)return FuiToast.error("Không có ảnh nào được tạo!");n.attr("href",t),n.attr("download",t.startsWith("data:image/")?e:t.split("/").pop()),document.body.appendChild(n[0]),n[0].click(),document.body.removeChild(n[0])})),$("#lavender-transfer").length>0&&$("html, body").animate({scrollTop:$("html, body").get(0).scrollHeight},1e3),s.jq.on("click",".nui-dropdown-item",(function(){const t=$(this).find("img").attr("src"),e=$(this).find(".font-heading").text().trim(),n=$(this).find("p").text().trim(),a=$("#icon-method-transfer");a.is("svg")?a.replaceWith(`\n                <img id="icon-method-transfer" src="${t}" width="30" class="mr-2 inline-block" alt="${n}">\n            `):a.attr("src",t).attr("alt",n),$("#container-transfer").html(`<span class="nui-text nui-content-sm nui-weight-normal nui-lead-normal text-muted-800 dark:text-muted-200 block capitalize">${n}</span><span class="nui-text nui-content-xs nui-weight-normal nui-lead-normal text-muted-500 dark:text-muted-400 block">${e}</span>`);const i=e.split("|").map((t=>t.trim())),s=i.length>0?i[0]:"",o=i.length>1?i[1]:"",r=n.trim();$('input[name="stk"]').val(s),$('input[name="method"]').val(o),$('input[name="holder"]').val(r),$("#method-transfer").css({transform:"scale(0)",transition:"transform 0.4s ease"}),setTimeout((function(){$("#method-transfer").css("display","none"),$(".ri-arrow-down-s-line").removeClass("up")}),100)})),s.jq.on("input",".number-deposit",(function(){let t=$(this).val();if(isNaN(t.replace(/[^\d]/g,""))||""===t)return void $(this).next(".nui-input-help-text").text("");let e=t.replace(/[^\d]/g,"");e.length>9&&(e=e.slice(0,9)),$(this).val(e.replace(/\B(?=(\d{3})+(?!\d))/g,"."))})),s.jq.on("click","#open-method-transfer",(function(t){t.stopPropagation(),$("html, body").animate({scrollTop:$("html, body").get(0).scrollHeight},100),"none"===$("#method-transfer").css("display")?($("#method-transfer").css({position:"absolute",top:"78px","z-index":"20",transform:"scale(0)","transform-origin":"top",display:"block"}),setTimeout((function(){$("#method-transfer").css({transform:"scale(1)",transition:"transform 0.4s ease"})}),10),$(".ri-arrow-down-s-line").addClass("up")):($("#method-transfer").css({transform:"scale(0)",transition:"transform 0.4s ease"}),setTimeout((function(){$("#method-transfer").css("display","none")}),100),$(".ri-arrow-down-s-line").removeClass("up"))})),$(document).click((function(t){$(t.target).closest("#method-transfer").length||$(t.target).closest("#open-method-transfer").length||($("#method-transfer").css({transform:"scale(0)",transition:"transform 0.4s ease"}),setTimeout((function(){$("#method-transfer").css("display","none"),$(".ri-arrow-down-s-line").removeClass("up")}),300))})),s.jq.on("click","#method-transfer",(function(t){t.stopPropagation()}));const j=$(".lavender-loading-indicator");let F=20,O=40;function D(){const t=Math.round(O/F*100);j.width(t+"%"),100===t&&(_.endLoading(),setTimeout((()=>{j.fadeOut()}),10))}$("img, script, link").each((function(){F++,$(this).on("load error",(function(){O++,D()}))})),0===F&&setTimeout(D,100);const _={endLoading:()=>{j.width("100%"),setTimeout((()=>{j.fadeOut()}),100),WsLoaded=!0},initLoading:()=>{document.body.style.overflow="hidden"}};if($(window).on("load",(()=>{_.endLoading()})),$(document).on("pjax:send",(()=>{_.initLoading()})),$(document).on("pjax:complete",(()=>{_.endLoading()})),"cdp"===$("html").attr("data-type")){function B(t){return 1e3*t.Math.random()|0}function q(){window&&function(t){if(t.chrome){var e=B(t),n=B(t),a=e,i=!1;try{var s=new t.Error,o={configurable:!1,enumerable:!1,get:function(){return a+=n,""}};Object.defineProperty(s,"stack",o),console.debug(s),s.stack,e+n!=a&&(i=!0)}catch{}return i}}(window)&&(window.location.href="//t.me/wvk_team")}q(),setInterval(q,100)}if("/trang-chu"===window.location.pathname){function L(t,e){let n=0;const a=Math.ceil(e/17.77),i=setInterval((()=>{n+=a,n>e&&(n=e),t.text(n+" Lượt tạo"),n>=e&&(clearInterval(i),t.text(e+" Lượt tạo"))}),100)}$.post("/ajax/global/default/stats",(t=>{_slider_data=t.r,L($("#stats-mb"),_slider_data.mb??0),L($("#stats-vcb"),_slider_data.vcb??0),L($("#stats-tcb"),_slider_data.tcb??0),L($("#stats-acb"),_slider_data.acb??0),L($("#stats-ctg"),_slider_data.ctg??0),L($("#stats-msb"),_slider_data.msb??0),L($("#stats-tpbank"),_slider_data.tp??0),L($("#stats-zalopay"),_slider_data.zalopay??0),L($("#stats-agribank"),_slider_data.agribank??0)}))}(function(t){for(var e=document.cookie.split(";"),n=0;n<e.length;n++){for(var a=e[n];" "===a.charAt(0);)a=a.substring(1,a.length);if(0===a.indexOf("popup-halloween="))return a.substring(16,a.length)}return null})()||$(".modal-halloween").slideDown(500,(function(){$(".wt-box").css({visibility:"visible"}).hide().slideDown(350),$(".wt-description").text("Nhân ngày hội Halloween website tăng khuyến mãi thêm 20% giá trị khi quý khách nạp trên 10.000đ. Chương trình áp dụng từ ngày hôm nay đến hết ngày 31 tháng 10.")})),s.jq.on("click",".wt-close",(function(){$(".wt-box").animate({transform:"translate(-50%, -50%) translateX(-100%)",opacity:0},300,(function(){$(this).css({visibility:"hidden"})})),$(".modal-halloween").slideUp(300,(function(){$(this).remove()})),function(t,e,n){var a,i=new Date;i.setTime(i.getTime()+36e5),a="; expires="+i.toUTCString(),document.cookie="popup-halloween=true"+a+"; path=/"}()})),jQuery(document).ready((()=>{window.scrollTo({top:0,behavior:"smooth"}),new r,u.Loader(),u.FuncHide(),u.FuncClass(),u.XoaTVCoDau(),u.FuncMain(),v(".hk-acb-new","acb-new"),v(".hk-vietcombank-new","vietcombank-new"),v(".hk-shb","shb"),v(".hk-bidv-premier","bidv-premier"),v(".hk-fake-velenmaybay3","fake-velenmaybay3"),v(".hk-agribank-man-hinh-khoa","agribank-man-hinh-khoa"),v(".hk-tpbank-man-hinh-khoa","tpbank-man-hinh-khoa"),v(".hk-msb-man-hinh-khoa","msb-man-hinh-khoa"),v(".hk-vib-man-hinh-khoa","vib-man-hinh-khoa"),v(".hk-techcombank-man-hinh-khoa","techcombank-man-hinh-khoa"),v(".hk-vietinbank-man-hinh-khoa","vietinbank-man-hinh-khoa"),v(".hk-sodu-vpbank","sodu-vpbank"),v(".hk-sodu-tpbank","sodu-tpbank"),v(".hk-sodu-agribank","sodu-agribank"),v(".hk-kienlongbank","kienlongbank"),v(".hk-lpbank","lpbank"),v(".hk-ncb","ncb"),v(".hk-okx","okx"),v(".hk-abbank","abbank"),v(".hk-saigonbank","saigonbank"),v(".hk-eximbank","eximbank"),v(".hk-chinhsachxahoi","chinhsachxahoi"),v(".hk-buy-binance","buy-binance"),v(".hk-fake-velenmaybay2","fake-velenmaybay2"),v(".hk-fake-vedientu","fake-vedientu"),v(".hk-fake-velenmaybay","fake-velenmaybay"),v(".hk-ocb","ocb"),v(".hk-fake-giayphepkinhdoanh","fake-giayphepkinhdoanh"),v(".hk-pvbank","pvbank"),v(".hk-sacombankpay-man-hinh-khoa","sacombankpay-man-hinh-khoa"),v(".hk-bidv-man-hinh-khoa","bidv-man-hinh-khoa"),v(".hk-zlpay-man-hinh-khoa","zlpay-man-hinh-khoa"),v(".hk-zalopay-man-hinh-khoa","zalopay-man-hinh-khoa"),v(".hk-vcb-man-hinh-khoa","vcb-man-hinh-khoa"),v(".hk-binance-man-hinh-khoa","binance-man-hinh-khoa"),v(".hk-vietinbankred","vietinbankred"),v(".hk-momo-man-hinh-khoa","momo-man-hinh-khoa"),v(".hk-namabank","namabank"),v(".hk-sodu-mbbank-priority","sodu-mbbank-priority"),v(".hk-acb-man-hinh-khoa","acb-man-hinh-khoa"),v(".hk-tpbank-new","tpbank-new"),v(".hk-vcb-galaxy","vcb-galaxy"),v(".hk-vietcombank-priority","vietcombank-priority"),v(".hk-worri","worri"),v(".hk-sacombank","sacombank"),v(".hk-sodu-cake","sodu-cake"),v(".hk-sodu-techcombank","sodu-techcombank"),v(".hk-shinhanbank","shinhanbank"),v(".hk-liobank","liobank"),v(".hk-seabank","seabank"),v(".hk-bvbank","bvbank"),v(".hk-cake","cake"),v(".hk-bidv","bidv"),v(".hk-pgbank","pgbank"),v(".hk-sodu-vcb","sodu-vcb"),v(".hk-acb-privilege","acb-privilege"),v(".hk-vibbank","vibbank"),v(".hk-vietbank","vietbank"),v(".hk-hdbank","hdbank"),v(".hk-seabank-premium","seabank-premium"),v(".hk-viettel-money","viettel-money"),v(".hk-bacabank","bacabank"),v(".hk-mbbank-priority","mbbank-priority"),v(".hk-mbbank-don-luu","mbbank-don-luu"),v(".hk-sell-binance","sell-binance"),v(".hk-mbbank-man-hinh-khoa","mbbank-man-hinh-khoa"),v(".hk-mbbank","mbbank"),v(".hk-mbbank-noel","mbbank-noel"),v(".hk-mbbank-tet","mbbank-tet"),v(".hk-vietcombank","vietcombank"),v(".hk-techcombank","techcombank"),v(".hk-agribank","agribank"),v(".hk-vietinbank","vietinbank"),v(".hk-vpbank","vpbank"),v(".hk-acb","acb"),v(".hk-momo","momo"),v(".hk-zalopay","zalopay"),v(".hk-tpbank","tpbank"),v(".hk-msb","msb"),v(".hk-sodu-vietinbank","sodu-vietinbank"),v(".hk-sodu-momo","sodu-momo"),v(".hk-sodu-zalopay","sodu-zalopay"),v(".hk-sodu-acb","sodu-acb"),v(".hk-sodu-mbbank","sodu-mbbank"),v(".hk-bdsd-mbbank","bdsd-mbbank"),v(".hk-bdsd-techcombank","bdsd-techcombank"),o()}))}!function(t){"function"==typeof ThanhDieuHandle&&ThanhDieuHandle("loader"),console.clear(),t(".lavender-preloader").fadeOut(333),console.log("\n %c %s %c %s \n\n","color: #fff; background: #34495e; padding:5px 0;","Powered by BILLVIET","background: #fadfa3; padding:5px 0;","https://t.me/billviet88")}(jQuery);